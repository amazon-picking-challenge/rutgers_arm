
<launch>  
  <rosparam file="$(find prx_input)/templates/spaces/space_types.yaml"/>

  <rosparam ns="simulation" file="$(find prx_input)/templates/applications/empty_application.yaml" />
  <rosparam ns="simulation" file="$(find prx_input)/templates/simulators/default_simulator.yaml"/>  
  <rosparam ns="simulation/simulator/subsystems/consumer/subsystems/manipulator" file="$(find manipulation)/input/motoman/grippy.yaml"/>


  <rosparam ns="simulation/simulator/subsystems/consumer/subsystems/object" file="$(find manipulation)/input/objects/apc2016_items/kleenex_tissue_box.yaml" />

  <rosparam ns="simulation/application">
  start_simulation: false
  </rosparam>
  <rosparam ns="simulation/simulator">
  collision_detection: true
  collision_response: false
  </rosparam>

  <rosparam ns="simulation/simulator/subsystems/consumer">
    type: grasp_visualizer
    # grasp_path: "prx_packages/manipulation/input/grasp_data/fused_unigripper/"
    grasp_file: "prx_output/kleenex_tissue_box.yaml"
    object_poses:
     - pose: [ 1.021852 0.290005 1.38587 0.0327662 0.701358 0.71145 -0.0293631 ]

  </rosparam>
  <rosparam ns="simulation/simulator/subsystems/consumer/subsystems/manipulator">
    initial_state: [-0.205,-0.000,0.028,0.0,0.0,0.0,1.000]
  </rosparam>
  <!-- <rosparam ns="simulation/simulator/subsystems/consumer/subsystems/object">
    initial_state: [ 1.021852 0.290005 1.38587 0.0327662 0.701358 0.71145 -0.0293631 ]
  </rosparam> -->
  <rosparam ns="simulation/grippy_grasp_generator">
    type: unigripper_grasp_generator
    default_ee_normal: [0,0,1]
    grasp_entire_mesh: false
    save_grasps_to_file: true
    limiting_normal: false
    ee_dof_check: true
    hand_long_axis: [0,0,1]
    restricted_normals:
    -
      normal: [0,0,-1]
    -
      normal: [1,0,0]
    preferred_normals:
    -
      normal: [0,0,1]
    -
      normal: [-1,0,0]
    manual_grasp_mode: 2
    manual_release_mode: 1
    nr_grasps_to_sample: 100
    total_nr_grasps: 400
    # manual_angle_increment: 15.0
  </rosparam>



  <node name="simulation" pkg="prx_simulation" type="prx_simulation" required="true" launch-prefix="" output="screen" args="simulation"/>

  <include file="$(find prx_input)/templates/visualization/visualization.launch"/>

  <rosparam ns="visualization/viewer/">
    windows:
      window_1:
        xpos: 920
        ypos: 100
        width: 800
        height: 800
        cameras:
          perspective:
            ortho: false
            camera_type: 0
            eye: [0, 0, 1.8]
            center: [1, 0, 0]
            speed: {move: 0.1, rotate: 0.001}
          orthographic:
            ortho: true
            ortho_param:
              left: -300
              right: 300
              bottom: -300
              top: 300
              zNear: 0
              zFar: 1000
            speed: {move: 0.2, rotate: 0.001}
          smooth:
            ortho: false
            camera_type: 2
            eye: [0, -20, 15]
            center: [0, 1, 18]
            speed: {move: 0.2, rotate: 0.001}
  </rosparam>

</launch>