<launch>

  <!--  PLANNING  -->
  <include ns="planning" file="$(find labeled_rearrangement)/input/planning/world_models/world_model_4k.launch"/>
  
  <rosparam command="load" ns="planning/problems/rearrangement_manipulation_problem/specification">
    k: 4
    b: 4
    initial_poses:
      -
        pose: [-0.0458313921703171756050210,0.9564771368850381039194986,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.2946730019150642365666215,1.1444082428861448441637094,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.3695352298461530016204790,1.0669162256535682509195340,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [-0.2418539716335264821989171,1.0915007979895456902141859,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    target_poses:
      -
        pose: [0.5999999999999999777955395,0.5000000000000000000000000,3.4775000000000000355271368,0.7071067811800000324495841,0.0000000000000000000000000,-0.7071067811800000324495841,0.0000000000000000000000000] 
      -
        pose: [0.5999999999999999777955395,0.2200000000000000011102230,3.4775000000000000355271368,0.7071067811800000324495841,0.0000000000000000000000000,-0.7071067811800000324495841,0.0000000000000000000000000] 
      -
        pose: [-0.0687261935853055727640992,0.9896155720761117269290708,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.0895407619581282676612943,1.0047790886344289962295306,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    initial_poses2:
      -
        pose: [0.5999999999999999777955395,0.5000000000000000000000000,3.4775000000000000355271368,0.7071067811800000324495841,0.0000000000000000000000000,-0.7071067811800000324495841,0.0000000000000000000000000] 
      -
        pose: [0.2946730019150642365666215,1.1444082428861448441637094,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.3695352298461530016204790,1.0669162256535682509195340,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [-0.2418539716335264821989171,1.0915007979895456902141859,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    target_poses2:
      -        
        pose: [0.5999999999999999777955395,0.2200000000000000011102230,3.4775000000000000355271368,0.7071067811800000324495841,0.0000000000000000000000000,-0.7071067811800000324495841,0.0000000000000000000000000] 
      -
        pose: [0.3695352298461530016204790,1.0669162256535682509195340,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.5999999999999999777955395,0.5000000000000000000000000,3.4775000000000000355271368,0.7071067811800000324495841,0.0000000000000000000000000,-0.7071067811800000324495841,0.0000000000000000000000000] 
      -
        pose: [-0.0458313921703171756050210,0.9564771368850381039194986,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
  </rosparam>

<!--
    initial_poses:
      -
        pose: [-0.0458313921703171756050210,0.9564771368850381039194986,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.2946730019150642365666215,1.1444082428861448441637094,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.3695352298461530016204790,1.0669162256535682509195340,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [-0.2418539716335264821989171,1.0915007979895456902141859,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    target_poses:
      -
        pose: [0.5999999999999999777955395,0.5000000000000000000000000,3.4775000000000000355271368,0.7071067811800000324495841,0.0000000000000000000000000,-0.7071067811800000324495841,0.0000000000000000000000000] 
      -
        pose: [0.5999999999999999777955395,0.2200000000000000011102230,3.4775000000000000355271368,0.7071067811800000324495841,0.0000000000000000000000000,-0.7071067811800000324495841,0.0000000000000000000000000] 
      -
        pose: [-0.0687261935853055727640992,0.9896155720761117269290708,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
      -
        pose: [0.0895407619581282676612943,1.0047790886344289962295306,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
-->


  <!--  SIMULATION  -->
  <rosparam command="load" ns="simulation/cup" file="$(find manipulation)/input/simulation/plants/cups.yaml"/>               
  <rosparam command="load" ns="simulation/cup">
    state_space: 
        min: [-10, -10, -100, -1, -1, -1, -1]
        max: [10, 10, 100, 1, 1, 1, 1]
        scale: [0.025, 0.025, 0.05, 0.5, 0.5, 0.5, 0.5]
  </rosparam>

  <!-- Set up concrete system tree -->

  <rosparam command="load" ns="simulation/simulator/subsystems/cup1">
    template: "cup"
    initial_state: [-0.0458313921703171756050210,0.9564771368850381039194986,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    geometries:
      -
        name: body
        collision_geometry:
          type: cylinder
          radius: 0.02
          height: 0.14
          material: red
        visualization_geometry:
            type: mesh
            filename: meshes/cans/duff_taller.osg
            local_transform:
              position: [0,0,-0.08]
              orientation: [0,0,0,1]
  </rosparam>

  <rosparam command="load" ns="simulation/simulator/subsystems/cup2">
    template: "cup"
    initial_state: [0.2946730019150642365666215,1.1444082428861448441637094,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    geometries:
      -
        name: body
        collision_geometry:
          type: cylinder
          radius: 0.02
          height: 0.14
          material: green
        visualization_geometry:
            type: mesh
            filename: meshes/cans/duff_taller.osg
            local_transform:
              position: [0,0,-0.08]
              orientation: [0,0,0,1]
  </rosparam>


  <rosparam command="load" ns="simulation/simulator/subsystems/cup3">
    template: "cup"
    initial_state: [0.3695352298461530016204790,1.0669162256535682509195340,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    geometries:
      -
        name: body
        collision_geometry:
          type: cylinder
          radius: 0.02
          height: 0.14
          material: blue
        visualization_geometry:
            type: mesh
            filename: meshes/cans/duff_taller.osg
            local_transform:
              position: [0,0,-0.08]
              orientation: [0,0,0,1]
  </rosparam>


  <rosparam command="load" ns="simulation/simulator/subsystems/cup4">
    template: "cup"
    initial_state: [-0.2418539716335264821989171,1.0915007979895456902141859,3.4775000000000000355271368,0.0000000000000000000000000,0.0000000000000000000000000,0.7071067811800000324495841,0.7071067811800000324495841]
    geometries:
      -
        name: body
        collision_geometry:
          type: cylinder
          radius: 0.02
          height: 0.14
          material: yellow
        visualization_geometry:
            type: mesh
            filename: meshes/cans/duff_taller.osg
            local_transform:
              position: [0,0,-0.08]
              orientation: [0,0,0,1]
  </rosparam>

</launch>

